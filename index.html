<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interpreter Assignment Tool</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Segoe UI', system-ui, sans-serif; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .booth-card {
      animation: fadeIn 0.5s ease-out;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .booth-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    }
    select {
      cursor: pointer;
      transition: all 0.2s ease;
    }
    select:hover { filter: brightness(1.1); }
    select:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.5);
    }
    .stat-badge { transition: transform 0.2s ease; }
    .stat-badge:hover { transform: scale(1.1); }
    .summary-card {
      backdrop-filter: blur(10px);
      animation: fadeIn 0.6s ease-out;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useMemo } = React;

    const interpretersData = {
      Arabic: [
        { name: 'M. Breika', sets: 'ENGLISH', statement: 'Arabic/English/French' },
        { name: 'A. Saad-Watt', sets: 'ENGLISH/FRENCH', statement: 'Arabic/English/French' },
        { name: 'S. Iskandar', sets: 'ENGLISH', statement: 'Arabic/English/French' },
        { name: 'N. Ghanma', sets: 'ENGLISH', statement: 'Arabic/English/French' },
        { name: 'A. Gzour', sets: 'ENGLISH/FRENCH', statement: 'Arabic/English/French' },
        { name: 'L. Fadel-Carpenter', sets: 'ENGLISH/FRENCH', statement: 'Arabic/English/French' },
        { name: 'M. El-Metwally', sets: 'ONLINE ONLY', statement: 'Arabic/English/French' },
        { name: 'M. Andari', sets: 'ENGLISH/FRENCH', statement: 'Arabic/English/French' },
        { name: 'L. Rahme', sets: 'ENGLISH/FRENCH', statement: 'Arabic/English/French' },
      ],
      Chinese: [
        { name: 'Zhang Guangbo', sets: 'ENGLISH', statement: 'English/Chinese' },
        { name: 'Hanchi Ding', sets: 'ENGLISH', statement: 'English/Chinese' },
        { name: 'Gong Yuan', sets: 'ENGLISH', statement: 'English/Chinese' },
        { name: 'Wei Long', sets: 'ENGLISH', statement: 'English/Chinese' },
        { name: 'Guo Yueshi', sets: 'ENGLISH', statement: 'English/Chinese' },
        { name: 'Vivian Wen', sets: 'ENGLISH', statement: 'English/Chinese' },
      ],
      English: [
        { name: 'J. Streetly', sets: 'ENGLISH', statement: 'French/Spanish' },
        { name: 'H. Ungoed-Thomas', sets: 'ENGLISH', statement: 'French/Spanish/Russian' },
        { name: 'A. Miles-Eves', sets: 'ENGLISH/FRENCH', statement: 'French/Spanish' },
        { name: 'N. Gregory', sets: 'ENGLISH', statement: 'French/Spanish/Russian' },
        { name: 'D. Gorbounova', sets: 'ENGLISH/FRENCH', statement: 'French/Spanish' },
        { name: 'D. Budgen', sets: 'ENGLISH/FRENCH', statement: 'English/French/Spanish' },
        { name: 'A. Forder', sets: 'ONLINE ONLY', statement: 'French/Russian' },
        { name: 'M. Greenwood', sets: 'ENGLISH/FRENCH/SPANISH', statement: 'French/Spanish' },
        { name: 'Z. Hewetson', sets: 'ENGLISH', statement: 'English/French/Spanish' },
      ],
      French: [
        { name: 'F. Forster-Turpin', sets: 'FRENCH', statement: 'English/Spanish' },
        { name: 'M. Bower', sets: 'ENGLISH/FRENCH', statement: 'English/Russian' },
        { name: 'E. Riviere', sets: 'ENGLISH/FRENCH/SPANISH', statement: 'English/Spanish' },
        { name: 'S. Kuenen', sets: 'ENGLISH/FRENCH', statement: 'English/Russian' },
        { name: 'A. Gray-de-Dax', sets: 'ENGLISH/FRENCH/SPANISH', statement: 'English/Spanish' },
        { name: 'C. Litvinov-Gonin', sets: 'ENGLISH/FRENCH', statement: 'English/Russian' },
        { name: 'F. Croiset', sets: 'ENGLISH/FRENCH', statement: 'English/Spanish' },
        { name: 'M. Veyrat', sets: 'ENGLISH/FRENCH', statement: 'English/Spanish' },
      ],
      Russian: [
        { name: 'A. Wheatcroft', sets: 'ENGLISH', statement: 'English/French' },
        { name: "N. O'Leary", sets: 'ENGLISH', statement: 'English' },
        { name: 'L. Bushell', sets: 'ENGLISH', statement: 'English' },
        { name: 'E. Edwards', sets: 'ENGLISH', statement: 'English' },
        { name: 'O. Nesnov', sets: 'ENGLISH', statement: 'English' },
      ],
      Spanish: [
        { name: 'M. Pinkney', sets: 'ENGLISH/SPANISH', statement: 'English/French' },
        { name: 'R. Dazin', sets: 'ENGLISH/SPANISH', statement: 'English/French' },
        { name: 'C. SoliÃ±o', sets: 'SPANISH', statement: 'English/French' },
        { name: 'V. Luna', sets: 'ENGLISH/SPANISH', statement: 'English/French' },
        { name: 'N. Llanderas', sets: 'ENGLISH/SPANISH', statement: 'English/French' },
        { name: 'R. Zaragoza', sets: 'ENGLISH/SPANISH', statement: 'English/French' },
      ],
    };

    const boothOrder = ['Arabic', 'Chinese', 'Spanish', 'Russian', 'French', 'English'];
    const languages = ['English', 'French', 'Spanish', 'Arabic', 'Chinese', 'Russian'];
    const setLanguages = ['English', 'French', 'Spanish'];

    const boothColors = {
      Arabic: { bg: '#1a472a', accent: '#2d5a3d', text: '#e8f5e9' },
      Chinese: { bg: '#7c2d12', accent: '#9a3c1d', text: '#fff7ed' },
      English: { bg: '#1e3a5f', accent: '#2a4a73', text: '#e3f2fd' },
      French: { bg: '#4a1942', accent: '#5e2455', text: '#fce4ec' },
      Russian: { bg: '#3d3d3d', accent: '#525252', text: '#f5f5f5' },
      Spanish: { bg: '#854d0e', accent: '#a16207', text: '#fef9c3' },
    };

    function InterpreterManager() {
      const [selections, setSelections] = useState(() => {
        const initial = {};
        boothOrder.forEach(booth => { initial[booth] = Array(8).fill(null); });
        return initial;
      });
      const [meetingTitle, setMeetingTitle] = useState('SDC Meeting');

      const handleSelect = (booth, slotIndex, interpreterName) => {
        setSelections(prev => {
          const newSelections = { ...prev };
          newSelections[booth] = [...prev[booth]];
          newSelections[booth][slotIndex] = interpreterName || null;
          return newSelections;
        });
      };

      const getInterpreterData = (booth, name) => interpretersData[booth]?.find(i => i.name === name);

      const calculations = useMemo(() => {
        const statementsByBooth = {};
        const setsByLanguage = { English: 0, French: 0, Spanish: 0 };

        boothOrder.forEach(booth => {
          statementsByBooth[booth] = { English: 0, French: 0, Spanish: 0, Arabic: 0, Chinese: 0, Russian: 0 };
          selections[booth].forEach(name => {
            if (name) {
              const interpreter = getInterpreterData(booth, name);
              if (interpreter) {
                languages.forEach(lang => {
                  if (interpreter.statement?.toLowerCase().includes(lang.toLowerCase())) {
                    statementsByBooth[booth][lang]++;
                  }
                });
                setLanguages.forEach(lang => {
                  if (interpreter.sets?.toLowerCase().includes(lang.toLowerCase())) {
                    setsByLanguage[lang]++;
                  }
                });
              }
            }
          });
        });

        const totalStatements = {};
        languages.forEach(lang => {
          totalStatements[lang] = Object.values(statementsByBooth).reduce((sum, booth) => sum + booth[lang], 0);
        });

        return { statementsByBooth, setsByLanguage, totalStatements };
      }, [selections]);

      const selectedCount = Object.values(selections).flat().filter(Boolean).length;

      return (
        <div style={{
          minHeight: '100vh',
          background: 'linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)',
          color: '#e0e0e0',
          padding: '24px',
        }}>
          <header style={{ textAlign: 'center', marginBottom: '32px' }}>
            <h1 style={{
              fontSize: '2.5rem',
              fontWeight: '300',
              letterSpacing: '0.1em',
              margin: 0,
              background: 'linear-gradient(90deg, #818cf8, #c084fc, #f472b6)',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              textTransform: 'uppercase',
            }}>
              Interpreter Assignment
            </h1>
            <input
              type="text"
              value={meetingTitle}
              onChange={(e) => setMeetingTitle(e.target.value)}
              style={{
                marginTop: '12px',
                padding: '8px 16px',
                fontSize: '1.1rem',
                background: 'rgba(255,255,255,0.05)',
                border: '1px solid rgba(255,255,255,0.1)',
                borderRadius: '8px',
                color: '#e0e0e0',
                textAlign: 'center',
                width: '300px',
              }}
              placeholder="Meeting Title"
            />
            <p style={{ margin: '12px 0 0', opacity: 0.6, fontSize: '0.9rem' }}>
              {selectedCount} interpreter{selectedCount !== 1 ? 's' : ''} selected
            </p>
          </header>

          <div style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',
            gap: '20px',
            marginBottom: '32px',
          }}>
            {boothOrder.map((booth, idx) => {
              const colors = boothColors[booth];
              const boothInterpreters = interpretersData[booth] || [];
              const selectedInBooth = selections[booth].filter(Boolean).length;
              
              return (
                <div key={booth} className="booth-card" style={{
                  background: `linear-gradient(145deg, ${colors.bg}, ${colors.accent})`,
                  borderRadius: '16px',
                  padding: '20px',
                  boxShadow: '0 4px 24px rgba(0,0,0,0.2)',
                }}>
                  <div style={{
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    marginBottom: '16px',
                    borderBottom: '1px solid rgba(255,255,255,0.1)',
                    paddingBottom: '12px',
                  }}>
                    <h2 style={{
                      margin: 0,
                      fontSize: '1.3rem',
                      fontWeight: '600',
                      color: colors.text,
                      textTransform: 'uppercase',
                      letterSpacing: '0.05em',
                    }}>
                      {booth}
                    </h2>
                    <span style={{
                      background: 'rgba(255,255,255,0.15)',
                      padding: '4px 12px',
                      borderRadius: '20px',
                      fontSize: '0.85rem',
                      color: colors.text,
                    }}>
                      {selectedInBooth}/8
                    </span>
                  </div>

                  <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                    {Array(8).fill(null).map((_, slotIdx) => {
                      const selected = selections[booth][slotIdx];
                      const interpreter = selected ? getInterpreterData(booth, selected) : null;
                      
                      return (
                        <div key={slotIdx} style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
                          <select
                            value={selected || ''}
                            onChange={(e) => handleSelect(booth, slotIdx, e.target.value)}
                            style={{
                              width: '100%',
                              padding: '10px 12px',
                              fontSize: '0.9rem',
                              border: 'none',
                              borderRadius: '8px',
                              background: selected ? 'rgba(255,255,255,0.2)' : 'rgba(255,255,255,0.08)',
                              color: colors.text,
                              fontWeight: selected ? '500' : '400',
                            }}
                          >
                            <option value="" style={{ background: colors.bg, color: colors.text }}>
                              â€” Select Interpreter â€”
                            </option>
                            {boothInterpreters.map(interp => (
                              <option key={interp.name} value={interp.name} style={{ background: colors.bg, color: colors.text }}>
                                {interp.name}
                              </option>
                            ))}
                          </select>
                          {interpreter && (
                            <div style={{ display: 'flex', gap: '8px', paddingLeft: '4px', fontSize: '0.75rem', opacity: 0.8 }}>
                              <span style={{ background: 'rgba(0,0,0,0.2)', padding: '2px 8px', borderRadius: '4px' }}>
                                Sets: {interpreter.sets}
                              </span>
                            </div>
                          )}
                        </div>
                      );
                    })}
                  </div>
                </div>
              );
            })}
          </div>

          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))', gap: '24px' }}>
            <div className="summary-card" style={{
              background: 'rgba(255,255,255,0.03)',
              border: '1px solid rgba(255,255,255,0.08)',
              borderRadius: '16px',
              padding: '24px',
            }}>
              <h3 style={{
                margin: '0 0 20px',
                fontSize: '1.2rem',
                fontWeight: '500',
                color: '#a5b4fc',
                textTransform: 'uppercase',
                letterSpacing: '0.1em',
              }}>
                ðŸ“„ Statements by Booth
              </h3>
              <div style={{ overflowX: 'auto' }}>
                <table style={{ width: '100%', borderCollapse: 'collapse', fontSize: '0.9rem' }}>
                  <thead>
                    <tr>
                      <th style={{ textAlign: 'left', padding: '8px', borderBottom: '1px solid rgba(255,255,255,0.1)', color: '#9ca3af' }}>Language</th>
                      {boothOrder.map(booth => (
                        <th key={booth} style={{ textAlign: 'center', padding: '8px', borderBottom: '1px solid rgba(255,255,255,0.1)', color: boothColors[booth].text, fontSize: '0.8rem' }}>
                          {booth.slice(0, 3).toUpperCase()}
                        </th>
                      ))}
                      <th style={{ textAlign: 'center', padding: '8px', borderBottom: '1px solid rgba(255,255,255,0.1)', color: '#f472b6', fontWeight: '700' }}>TOTAL</th>
                    </tr>
                  </thead>
                  <tbody>
                    {languages.map(lang => (
                      <tr key={lang}>
                        <td style={{ padding: '8px', color: '#d1d5db' }}>{lang}</td>
                        {boothOrder.map(booth => (
                          <td key={booth} style={{ textAlign: 'center', padding: '8px' }}>
                            <span className="stat-badge" style={{
                              display: 'inline-block',
                              minWidth: '28px',
                              padding: '4px 8px',
                              borderRadius: '6px',
                              background: calculations.statementsByBooth[booth][lang] > 0 ? 'rgba(99, 102, 241, 0.3)' : 'rgba(255,255,255,0.05)',
                              fontWeight: calculations.statementsByBooth[booth][lang] > 0 ? '600' : '400',
                              color: calculations.statementsByBooth[booth][lang] > 0 ? '#a5b4fc' : '#6b7280',
                            }}>
                              {calculations.statementsByBooth[booth][lang]}
                            </span>
                          </td>
                        ))}
                        <td style={{ textAlign: 'center', padding: '8px' }}>
                          <span style={{
                            display: 'inline-block',
                            minWidth: '36px',
                            padding: '4px 12px',
                            borderRadius: '6px',
                            background: calculations.totalStatements[lang] > 0 ? 'linear-gradient(135deg, #f472b6, #c084fc)' : 'rgba(255,255,255,0.05)',
                            fontWeight: '700',
                            color: calculations.totalStatements[lang] > 0 ? '#fff' : '#6b7280',
                          }}>
                            {calculations.totalStatements[lang]}
                          </span>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>

            <div className="summary-card" style={{
              background: 'rgba(255,255,255,0.03)',
              border: '1px solid rgba(255,255,255,0.08)',
              borderRadius: '16px',
              padding: '24px',
            }}>
              <h3 style={{
                margin: '0 0 20px',
                fontSize: '1.2rem',
                fontWeight: '500',
                color: '#a5b4fc',
                textTransform: 'uppercase',
                letterSpacing: '0.1em',
              }}>
                ðŸŽ§ Sets Required
              </h3>
              <div style={{ display: 'flex', gap: '16px', flexWrap: 'wrap', justifyContent: 'center' }}>
                {setLanguages.map(lang => {
                  const count = calculations.setsByLanguage[lang];
                  const colors = {
                    English: { from: '#3b82f6', to: '#1d4ed8' },
                    French: { from: '#c084fc', to: '#7c3aed' },
                    Spanish: { from: '#f59e0b', to: '#d97706' },
                  };
                  return (
                    <div key={lang} className="stat-badge" style={{
                      background: count > 0 ? `linear-gradient(135deg, ${colors[lang].from}, ${colors[lang].to})` : 'rgba(255,255,255,0.05)',
                      borderRadius: '12px',
                      padding: '20px 32px',
                      textAlign: 'center',
                      minWidth: '120px',
                      boxShadow: count > 0 ? '0 4px 20px rgba(0,0,0,0.3)' : 'none',
                    }}>
                      <div style={{ fontSize: '2.5rem', fontWeight: '700', color: count > 0 ? '#fff' : '#6b7280', lineHeight: 1 }}>
                        {count}
                      </div>
                      <div style={{ fontSize: '0.9rem', color: count > 0 ? 'rgba(255,255,255,0.9)' : '#9ca3af', marginTop: '8px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>
                        {lang}
                      </div>
                    </div>
                  );
                })}
              </div>
              <p style={{ margin: '24px 0 0', textAlign: 'center', fontSize: '0.85rem', color: '#9ca3af' }}>
                Total sets needed based on interpreter preferences
              </p>
            </div>
          </div>

          <footer style={{
            marginTop: '40px',
            textAlign: 'center',
            padding: '20px',
            borderTop: '1px solid rgba(255,255,255,0.05)',
            color: '#6b7280',
            fontSize: '0.8rem',
          }}>
            <p style={{ margin: 0 }}>Interpreter Assignment Tool â€¢ Select interpreters for each booth to calculate requirements</p>
          </footer>
        </div>
      );
    }

    ReactDOM.render(<InterpreterManager />, document.getElementById('root'));
  </script>
</body>
</html>
